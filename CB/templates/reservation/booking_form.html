{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="fw-bold mb-0">예약하기</h3>
  <a class="btn btn-outline-secondary" href="{% url 'reservation:calendar' %}">달력으로</a>
</div>

<form method="post"
      class="card border-0 shadow-sm p-4"
      style="max-width: 720px;">
  {% csrf_token %}

  {# 폼 전체 에러 #}
  {{ form.non_field_errors }}

  <div class="mb-3">
    <label class="form-label fw-bold">시설</label>
    {{ form.facility }}
    {{ form.facility.errors }}
    <div class="form-text">
      권한이 없는 시설은 목록에 표시되지 않습니다.
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-4">
      <label class="form-label fw-bold">날짜</label>
      {{ form.date }}
      {{ form.date.errors }}
      <div class="form-text">
        달력에서 선택한 날짜가 자동으로 설정됩니다.
      </div>
    </div>

    <div class="col-md-4">
      <label class="form-label fw-bold">시작</label>
      {{ form.start_time }}
      {{ form.start_time.errors }}
      <div class="form-text">
        30분 단위로 자동 보정됩니다.
      </div>
    </div>

    <div class="col-md-4">
      <label class="form-label fw-bold">종료</label>
      {{ form.end_time }}
      {{ form.end_time.errors }}
      <div class="form-text">
        30분 단위로 자동 보정됩니다.
      </div>
    </div>
  </div>

  <div class="mt-3">
    <label class="form-label fw-bold">제목(선택)</label>
    {{ form.title }}
    {{ form.title.errors }}
  </div>

  <div class="alert alert-info mt-4 mb-0">
    <strong>안내</strong><br>
    • 예약은 접수 후 <strong>시설 담당자 승인</strong>을 거쳐 확정됩니다.<br>
    • 승인된 예약을 수정하면 다시 승인 대기 상태로 전환됩니다.<br>
    • 승인된 예약과 시간대가 겹치면 예약할 수 없습니다.
  </div>

  <div class="d-flex gap-2 mt-4">
    <button type="submit" class="btn btn-primary">
      예약
    </button>
    <a class="btn btn-outline-secondary" href="{% url 'reservation:calendar' %}">
      취소
    </a>
  </div>
</form>
{% endblock %}
